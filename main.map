{"version":3,"file":"main.bundle.js","sources":["webpack:///src/main.browser.ts","webpack:///src/app/game/items/retail/retail.ts","webpack:///src/app/app.service.ts","webpack:///./~/angular2-hmr/src/hmr-store.ts","webpack:///src/app/game/index.ts","webpack:///src/app/game/items/index.ts","webpack:///src/app/game/items/material.ts","webpack:///src/app/game/items/retail/tier_1.ts","webpack:///src/app/game/items/retail/tier_2.ts","webpack:///src/app/game/items/retail/tier_3.ts","webpack:///src/app/game/items/retail/tier_4.ts","webpack:///src/platform/browser-directives.ts","webpack:///src/platform/browser-pipes.ts","webpack:///src/platform/browser-providers.ts","webpack:///src/app/app.component.ts","webpack:///src/app/automation/automation.component.ts","webpack:///src/app/automation/index.ts","webpack:///src/app/game/game.service.ts","webpack:///src/app/game/items/retail/index.ts","webpack:///src/app/index.ts","webpack:///src/app/inventory/index.ts","webpack:///src/app/inventory/inventory.component.ts","webpack:///src/app/manufacturing/index.ts","webpack:///src/app/manufacturing/manufacturing.component.ts","webpack:///src/app/purchasing/index.ts","webpack:///src/app/purchasing/purchasing.component.ts","webpack:///src/app/router-active/index.ts","webpack:///src/app/router-active/router-active.directive.ts","webpack:///src/platform/browser.ts","webpack:///src/platform/environment.ts","webpack:///./src/app/purchasing/purchasing.scss","webpack:///./src/app/app.css","webpack:///./src/app/app.html","webpack:///./src/app/automation/automation.html","webpack:///./src/app/inventory/inventory.html","webpack:///./src/app/manufacturing/manufacturing.html","webpack:///./src/app/purchasing/purchasing.html","webpack:///./~/angular2-hmr/src/hmr-decorator.ts","webpack:///./~/angular2-hmr/src/index.ts","webpack:///./~/angular2-hmr/src/webpack-hmr.ts"],"sourcesContent":["/*\n * Providers provided by Angular\n */\nimport { bootstrap } from '@angular/platform-browser-dynamic';\n/*\n* Platform and Environment\n* our providers/directives/pipes\n*/\nimport { PLATFORM_PROVIDERS } from './platform/browser';\nimport { ENV_PROVIDERS } from './platform/environment';\n\n/*\n* App Component\n* our top level component that holds all of our components\n*/\nimport { App, APP_PROVIDERS } from './app';\n\n/*\n * Bootstrap our Angular app with a top level component `App` and inject\n * our Services and Providers into Angular's dependency injection\n */\nexport function main(initialHmrState?: any): Promise<any> {\n\n  return bootstrap(App, [\n    ...PLATFORM_PROVIDERS,\n    ...ENV_PROVIDERS,\n    ...APP_PROVIDERS\n  ])\n  .catch(err => console.error(err));\n\n}\n\n\n\n\n\n/*\n * Vendors\n * For vendors for example jQuery, Lodash, angular2-jwt just import them anywhere in your app\n * You can also import them in vendors to ensure that they are bundled in one file\n * Also see custom-typings.d.ts as you also need to do `typings install x` where `x` is your module\n */\n\n\n/*\n * Hot Module Reload\n * experimental version by @gdi2290\n */\nif ('development' === ENV && HMR === true) {\n  // activate hot module reload\n  let ngHmr = require('angular2-hmr');\n  ngHmr.hotModuleReplacement(main, module);\n} else {\n  // bootstrap when document is ready\n  document.addEventListener('DOMContentLoaded', () => main());\n}\n\n\n\n/** WEBPACK FOOTER **\n ** src/main.browser.ts\n **/","import { Item, IRequirement, Requirement } from '../index';\n\nexport interface IRetail extends Item {\n  tier?: number;\n  requirements: IRequirement[];\n}\n\nexport class Retail implements IRetail {\n  name: string;\n  sellPrice: number;\n  tier: number;\n  requirements: Requirement[];\n  \n  constructor(ret: IRetail) {\n    this.name = ret.name;\n    this.sellPrice = ret.sellPrice;\n    this.tier = ret.tier || 0;\n    // console.log(ret.requirements);\n    this.requirements = ret.requirements.map((req) => new Requirement(req));\n  }\n}\n\n// export function accum(prev: { [name: string]: Retail }, curr: Retail): { [name: string]: Retail } {\n//   prev[curr.name] = curr;\n//   return prev;\n// }\n\nexport function accum(rets: IRetail[], tier: number): { [name: string]: Retail } {\n  let obj: { [name: string]: Retail } = {};\n  return rets.map((ret) => {\n    ret.tier = tier;\n    return new Retail(ret);\n  }).reduce((prev, curr) => {\n    prev[curr.name] = curr;\n    return prev;\n  }, obj);\n}\n\n\n/** WEBPACK FOOTER **\n ** src/app/game/items/retail/retail.ts\n **/","import { Injectable, Pipe } from '@angular/core';\nimport { HmrState } from 'angular2-hmr';\n\n@Injectable()\nexport class AppState {\n  // @HmrState() is used by HMR to track the state of any object during HMR (hot module replacement)\n  @HmrState() _state = { };\n\n  constructor() {\n\n  }\n\n  // already return a clone of the current state\n  get state() {\n    return this._state = this._clone(this._state);\n  }\n  // never allow mutation\n  set state(value) {\n    throw new Error('do not mutate the `.state` directly');\n  }\n\n\n  get(prop?: any) {\n    // use our state getter for the clone\n    const state = this.state;\n    return state.hasOwnProperty(prop) ? state[prop] : state;\n  }\n\n  set(prop: string, value: any) {\n    // internally mutate our state\n    return this._state[prop] = value;\n  }\n\n\n  _clone(object) {\n    // simple object clone\n    return JSON.parse(JSON.stringify( object ));\n  }\n}\n\n@Pipe({\n  name: 'formatter'\n})\nexport class FormatterPipe {\n  transform(val, args) {\n    return val.split('_')\n      .map((str) => str.charAt(0).toUpperCase() + str.slice(1))\n      .join(' ');\n  }\n}\n\n\n/** WEBPACK FOOTER **\n ** src/app/app.service.ts\n **/","\nexport class OpaqueToken {\n  constructor(private _desc: string) {}\n\n  toString(): string { return `Token ${this._desc}`; }\n}\n\nexport const HMR_STATE = new OpaqueToken('hmrState');\n\nexport class HmrStore {\n  static dev = false;\n  static _state = {};\n  static _initialValues = {};\n  static _states = [];\n\n  static set(prop, value) {\n    HmrStore._state[prop] = value;\n    return HmrStore._state[prop];\n  }\n\n  static get(prop) {\n    return HmrStore._state[prop];\n  }\n\n  static select(name, getState) {\n    HmrStore._states.push({ name, getState });\n    let defaultData = getState();\n    let currentData = HmrStore.get(name);\n\n    if (defaultData && !currentData) {\n      return HmrStore.set(name, defaultData);\n    } else if (defaultData && currentData) {\n      return HmrStore.set(name, (<any>Object).assign({}, defaultData, currentData));\n    } else {\n      return HmrStore.set(name, currentData || defaultData);\n    }\n  }\n\n  static dispose() {\n    HmrStore._states = [];\n    HmrStore._state = {};\n    HmrStore._initialValues = {};\n  }\n\n  static getState() {\n    let initialState = (<any>Object).assign({}, HmrStore._state);\n    return HmrStore._states\n      .reduce((memo, item) => {\n        memo[item.name] = item.getState();\n        return memo;\n      }, initialState);\n  }\n  static toJSON() {\n    return HmrStore.getState();\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-hmr/src/hmr-store.ts\n **/","export * from './game.service';\nexport * from './items';\n\n\n/** WEBPACK FOOTER **\n ** src/app/game/index.ts\n **/","export * from './material';\nimport { MATERIALS } from './material';\n// export * from './item';\nexport interface Item {\n  name: string;\n  // img_url: string;\n  sellPrice: number;\n}\n\nexport interface IRequirement {\n  name: string;\n  count: number;\n  isMaterial?: boolean;\n}\n\nexport class Requirement implements IRequirement {\n  name: string;\n  count: number;\n  isMaterial: boolean;\n  \n  constructor(req: IRequirement) {\n\t  this.name = req.name;\n\t  this.count = req.count;\n\t // this.isMaterial = req.isMaterial || false;\n\t // let matIndex = MATERIALS.findIndex((mat) => mat.name === req.name);\n\t  this.isMaterial = req.name in MATERIALS;\n\t // this.isMaterial = matIndex !== -1;\n  }\n}\nexport * from './retail';\n\n\n/** WEBPACK FOOTER **\n ** src/app/game/items/index.ts\n **/","import { Item } from './index';\n\nexport interface IMaterial extends Item {\n  buyPrice: number;\n}\n\n// export const MATERIALS: IMaterial[] = [\nvar materials: IMaterial[] = [\n  { name: \"cardboard\", sellPrice: 0.18, buyPrice: 0.24 },\n  { name: \"concrete\", sellPrice: 3.14, buyPrice: 4.19 },\n  { name: \"magnet\", sellPrice: 4.26, buyPrice: 5.68 },\n  { name: \"metal\", sellPrice: 2.55, buyPrice: 3.40 },\n  { name: \"paint\", sellPrice: 1.70, buyPrice: 2.26 },\n  { name: \"plastic\", sellPrice: 0.45, buyPrice: 0.60 },\n  { name: \"rare_metal\", sellPrice: 5.86, buyPrice: 7.81 },\n  { name: \"rubber\", sellPrice: 0.83, buyPrice: 1.10 },\n  { name: \"wire\", sellPrice: 1.28, buyPrice: 1.71 }\n];\n\nlet obj: { [name: string]: IMaterial } = {};\n\nexport const MATERIALS: { [name: string]: IMaterial } = materials.reduce((prev, curr) => {\n  prev[curr.name] = curr;\n  return prev;\n}, obj);\n\n\n/** WEBPACK FOOTER **\n ** src/app/game/items/material.ts\n **/","import { IRetail, Retail, accum } from './retail';\n\nvar tier_1: IRetail[] = [\n  {\n    name: \"adv_concrete\",\n    sellPrice: 14.47,\n    requirements: [\n      { name: \"concrete\", count: 2 },\n      { name: \"metal\", count: 2 }\n    ]\n  }, {\n    name: \"belt\",\n    sellPrice: 2.60,\n    requirements: [\n      { name: \"rubber\", count: 2 }\n    ]\n  }, {\n    name: \"box\",\n    sellPrice: 2.21,\n  \ttier: 1,\n  \trequirements: [\n  \t\t{ name: \"cardboard\", count: 4 }\n  \t]\n  }, {\n    name: \"cable\",\n    sellPrice: 3.28,\n    requirements: [\n      { name: \"metal\", count: 1 }\n    ]\n  }, {\n    name: \"circuit\",\n    sellPrice: 3.54,\n    requirements: [\n      { name: \"plastic\", count: 2 }\n    ]\n  }, {\n    name: \"gear\",\n    sellPrice: 6.56,\n    requirements: [\n      { name: \"metal\", count: 2 }\n    ]\n  }, {\n    name: \"hose\",\n    sellPrice: 2.60,\n    requirements: [\n      { name: \"rubber\", count: 2 }\n    ]\n  }, {\n    name: \"metal_wheel\",\n    sellPrice: 6.56,\n    requirements: [\n      { name: \"metal\", count: 2 }\n    ]\n  }, {\n    name: \"motor\",\n    sellPrice: 17.40,\n    requirements: [\n      { name: \"magnet\", count: 2 },\n      { name: \"metal\", count: 1 },\n      { name: \"wire\", count: 2 }\n    ]\n  }, {\n    name: \"plastic_wheel\",\n    sellPrice: 1.72,\n    requirements: [\n      { name: \"plastic\", count: 2 }\n    ]\n  }, {\n    name: \"pump\",\n    sellPrice: 8.72,\n    requirements: [\n      { name: \"metal\", count: 2 },\n      { name: \"plastic\", count: 1 },\n      { name: \"rubber\", count: 1 }\n    ]\n  }, {\n    name: \"garden_gnome\",\n    sellPrice: 15.9,\n    requirements: [\n      { name: \"concrete\", count: 1 },\n      { name: \"paint\", count: 1 },\n      { name: \"box\", count: 1 }\n    ]\n  }, {\n    name: \"speakers\",\n    sellPrice: 29.42,\n    requirements: [\n      { name: \"magnet\", count: 2 },\n      { name: \"plastic\", count: 2 },\n      { name: \"wire\", count: 1 },\n      { name: \"box\", count: 1 }\n    ]\n  }, {\n    name: \"toaster\",\n    sellPrice: 22.72,\n    requirements: [\n      { name: \"metal\", count: 2 },\n      { name: \"wire\", count: 2 },\n      { name: \"box\", count: 1 }\n    ]\n  }\n];\n\n// export const TIER_1: Retail[] = tier_1\n//   .map((ret) => {\n//     ret.tier = 1;\n//     return ret;\n//   }).map((ret) => new Retail(ret));\n// export const TIER_1: { [name: string]: Retail } = tier_1\n//   .map((ret) => {\n//     ret.tier = 1;\n//     return new Retail(ret);\n//   }).reduce((prev, curr) => {\n//     prev[curr.name] = curr;\n//     return prev;\n//   }, {});\n\nexport const TIER_1: { [name: string]: Retail } = accum(tier_1, 1);\n\n\n/** WEBPACK FOOTER **\n ** src/app/game/items/retail/tier_1.ts\n **/","import { IRetail, Retail, accum } from './retail';\n\nvar tier_2: IRetail[] = [\n  {\n    name: \"air_gun\",\n    sellPrice: 19.78,\n    requirements: [\n      { name: \"metal\", count: 4 },\n      { name: \"hose\", count: 2 }\n    ]\n  }, {\n    name: \"arm\",\n    sellPrice: 51.68,\n    requirements: [\n      { name: \"metal\", count: 2 },\n      { name: \"circuit\", count: 1 },\n      { name: \"motor\", count: 2 }\n    ]\n  }, {\n    name: \"conveyor\",\n    sellPrice: 102.58,\n    requirements: [\n      { name: \"belt\", count: 1 },\n      { name: \"gear\", count: 2 },\n      { name: \"metal_wheel\", count: 8 },\n      { name: \"motor\", count: 1 }\n    ]\n  }, {\n    name: \"lifter\",\n    sellPrice: 55.46,\n    requirements: [\n      { name: \"metal\", count: 3 },\n      { name: \"cable\", count: 2 },\n      { name: \"hose\", count: 2 },\n      { name: \"motor\", count: 1 },\n      { name: \"pump\", count: 1 }\n    ]\n  }, {\n    name: \"logic_unit\",\n    sellPrice: 26.75,\n    requirements: [\n      { name: \"wire\", count: 5 },\n      { name: \"circuit\", count: 4 }\n    ]\n  }, {\n    name: \"mover\",\n    sellPrice: 113.65,\n    requirements: [\n      { name: \"metal\", count: 3 },\n      { name: \"gear\", count: 4 },\n      { name: \"metal_wheel\", count: 4 },\n      { name: \"motor\", count: 2 }\n    ]\n  }, {\n    name: \"road\",\n    sellPrice: 49.8,\n    requirements: [\n      { name: \"concrete\", count: 4 },\n      { name: \"adv_concrete\", count: 2 }\n    ]\n  }, {\n    name: \"support\",\n    sellPrice: 40.53,\n    requirements: [\n      { name: \"metal\", count: 2 },\n      { name: \"adv_concrete\", count: 2 }\n    ]\n  }, {\n    name: \"thing-a-ma-jig\",\n    sellPrice: 61.02,\n    requirements: [\n      { name: \"circuit\", count: 3 },\n      { name: \"hose\", count: 2 },\n      { name: \"motor\", count: 1 },\n      { name: \"pump\", count: 2 }\n    ]\n  }, {\n    name: \"widget\",\n    sellPrice: 14.78,\n    requirements: [\n      { name: \"metal\", count: 1 },\n      { name: \"plastic\", count: 4 },\n      { name: \"wire\", count: 2 },\n      { name: \"circuit\", count: 1 }\n    ]\n  }, {\n    name: \"toy_car\",\n    sellPrice: 35.38,\n    requirements: [\n      { name: \"metal\", count: 1 },\n      { name: \"paint\", count: 1 },\n      { name: \"plastic\", count: 3 },\n      { name: \"plastic_wheel\", count: 4 },\n      { name: \"box\", count: 1 }\n    ]\n  }, {\n    name: \"water_gun\",\n    sellPrice: 29.62,\n    requirements: [\n      { name: \"paint\", count: 1 },\n      { name: \"plastic\", count: 6 },\n      { name: \"hose\", count: 2 },\n      { name: \"box\", count: 1 }\n    ]\n  }\n];\n\n// export const TIER_2: Retail[] = tier_2\n//   .map((ret) => {\n//     ret.tier = 2;\n//     return ret;\n//   }).map((ret) => new Retail(ret));\n// export const TIER_2: { [name: string]: Retail } = tier_2\n//   .map((ret) => {\n//     ret.tier = 2;\n//     return new Retail(ret);\n//   }).reduce((prev, curr) => {\n//     prev[curr.name] = curr;\n//     return prev;\n//   })\nexport const TIER_2: { [name: string]: Retail } = accum(tier_2, 2);\n\n\n/** WEBPACK FOOTER **\n ** src/app/game/items/retail/tier_2.ts\n **/","import { IRetail, Retail, accum } from './retail';\n\nvar tier_3: IRetail[] = [\n  {\n    name: \"adv_logic_unit\",\n    sellPrice: 87.15,\n    requirements: [\n      { name: \"wire\", count: 4 },\n      { name: \"circuit\", count: 4 },\n      { name: \"logic_unit\", count: 2 }\n    ]\n  }, {\n    name: \"assembly_line\",\n    sellPrice: 715.84,\n    requirements: [\n      { name: \"air_gun\", count: 2 },\n      { name: \"arm\", count: 2 },\n      { name: \"conveyor\", count: 3 },\n      { name: \"lifter\", count: 1 },\n      { name: \"mover\", count: 1 }\n    ]\n  }, {\n    name: \"jet_engine\",\n    sellPrice: 180.04,\n    requirements: [\n      { name: \"metal\", count: 8 },\n      { name: \"wire\", count: 12 },\n      { name: \"hose\", count: 6 },\n      { name: \"pump\", count: 4 },\n      { name: \"thing-a-ma-jig\", count: 1 }\n    ]\n  }, {\n    name: \"sensor\",\n    sellPrice: 51.51,\n    requirements: [\n      { name: \"rare_metal\", count: 2 },\n      { name: \"wire\", count: 1 },\n      { name: \"circuit\", count: 1 },\n      { name: \"logic_unit\", count: 1 }\n    ]\n  }, {\n    name: \"bridge\",\n    sellPrice: 1091.16,\n    requirements: [\n      { name: \"road\", count: 6 },\n      { name: \"support\", count: 6 }\n    ]\n  }, {\n    name: \"forklift\",\n    sellPrice: 198.04,\n    requirements: [\n      { name: \"metal\", count: 6 },\n      { name: \"rubber\", count: 8 },\n      { name: \"metal_wheel\", count: 4 },\n      { name: \"motor\", count: 2 },\n      { name: \"box\", count: 4 }\n    ]\n  }, {\n    name: \"radio_tower\",\n    sellPrice: 414,\n    requirements: [\n      { name: \"metal\", count: 12 },\n      { name: \"wire\", count: 6 },\n      { name: \"support\", count: 4 }\n    ]\n  }, {\n    name: \"tablet_computer\",\n    sellPrice: 93.14,\n    requirements: [\n      { name: \"plastic\", count: 1 },\n      { name: \"wire\", count: 3 },\n      { name: \"circuit\", count: 3 },\n      { name: \"logic_unit\", count: 1 },\n      { name: \"box\", count: 1 }\n    ]\n  }\n];\n\n// export const TIER_3: Retail[] = tier_3\n//   .map((ret) => {\n//     ret.tier = 3;\n//     return ret;\n//   }).map((ret) => new Retail(ret));\n\nexport const TIER_3: { [name: string]: Retail } = accum(tier_3, 3);\n\n\n/** WEBPACK FOOTER **\n ** src/app/game/items/retail/tier_3.ts\n **/","import { IRetail, Retail, accum } from './retail';\n\nvar tier_4: IRetail[] = [\n  {\n    name: \"drone\",\n    sellPrice: 542.06,\n    requirements: [\n      { name: \"plastic\", count: 4 },\n      { name: \"rare_metal\", count: 1 },\n      { name: \"motor\", count: 4 },\n      { name: \"adv_logic_unit\", count: 1 },\n      { name: \"sensor\", count: 2 }\n    ]\n  }, {\n    name: \"jet\",\n    sellPrice: 3514.76,\n    requirements: [\n      { name: \"metal\", count: 24 },\n      { name: \"wire\", count: 18 },\n      { name: \"adv_logic_unit\", count: 6 },\n      { name: \"jet_engine\", count: 4 },\n      { name: \"sensor\", count: 8 }\n    ]\n  }, {\n    name: \"oculus_rift\",\n    sellPrice: 307.84,\n    requirements: [\n      { name: \"plastic\", count: 2 },\n      { name: \"rare_metal\", count: 2 },\n      { name: \"wire\", count: 4 },\n      { name: \"widget\", count: 2 },\n      { name: \"sensor\", count: 2 }\n    ]\n  }\n];\n\n// export const TIER_4: Retail[] = tier_4\n//   .map((ret) => {\n//     ret.tier = 4;\n//     return ret;\n//   }).map((ret) => new Retail(ret));\n\nexport const TIER_4: { [name: string]: Retail } = accum(tier_4, 4);\n\n\n/** WEBPACK FOOTER **\n ** src/app/game/items/retail/tier_4.ts\n **/","/*\n * These are globally available directives in any template\n */\n\nimport { PLATFORM_DIRECTIVES } from '@angular/core';\n// Angular 2 Router\nimport { ROUTER_DIRECTIVES } from '@angular/router-deprecated';\n\n// application_directives: directives that are global through out the application\nexport const APPLICATION_DIRECTIVES = [\n  ...ROUTER_DIRECTIVES\n];\n\nexport const DIRECTIVES = [\n  { provide: PLATFORM_DIRECTIVES, multi: true, useValue: APPLICATION_DIRECTIVES }\n];\n\n\n\n/** WEBPACK FOOTER **\n ** src/platform/browser-directives.ts\n **/","/*\n * These are globally available pipes in any template\n */\n\nimport { PLATFORM_PIPES } from '@angular/core';\n\n// application_pipes: pipes that are global through out the application\nexport const APPLICATION_PIPES = [\n\n];\n\nexport const PIPES = [\n  { provide: PLATFORM_PIPES, multi: true, useValue: APPLICATION_PIPES }\n];\n\n\n\n/** WEBPACK FOOTER **\n ** src/platform/browser-pipes.ts\n **/","/*\n * These are globally available services in any component or any other service\n */\n\n// Angular 2\nimport { FORM_PROVIDERS, HashLocationStrategy, LocationStrategy } from '@angular/common';\n// Angular 2 Http\nimport { HTTP_PROVIDERS } from '@angular/http';\n// Angular 2 Router\nimport { ROUTER_PROVIDERS } from '@angular/router-deprecated';\n\n/*\n* Application Providers/Directives/Pipes\n* providers/directives/pipes that only live in our browser environment\n*/\nexport const APPLICATION_PROVIDERS = [\n  ...FORM_PROVIDERS,\n  ...HTTP_PROVIDERS,\n  ...ROUTER_PROVIDERS,\n  { provide: LocationStrategy, useClass: HashLocationStrategy }\n];\n\nexport const PROVIDERS = [\n  ...APPLICATION_PROVIDERS\n];\n\n\n\n/** WEBPACK FOOTER **\n ** src/platform/browser-providers.ts\n **/","/*\n * Angular 2 decorators and services\n */\nimport { Component, ViewEncapsulation } from '@angular/core';\nimport { RouteConfig, Router } from '@angular/router-deprecated';\n\nimport { AppState } from './app.service';\nimport { Home } from './home';\nimport { RouterActive } from './router-active';\n\nimport { GameService } from './game';\n\nimport { AutomationComponent } from './automation';\nimport { InventoryComponent } from './inventory';\nimport { ManufacturingComponent } from './manufacturing';\nimport { PurchasingComponent } from './purchasing';\n\nexport interface NavLink {\n  comp?: string;\n  link?: string;\n  text: string;\n}\n\n/*\n * App Component\n * Top Level Component\n */\n@Component({\n  selector: 'app',\n  pipes: [ ],\n  providers: [ ],\n  directives: [ RouterActive ],\n  encapsulation: ViewEncapsulation.None,\n  styles: [\n    require('./app.css')\n  ],\n  template: require('./app.html')\n})\n@RouteConfig([\n  { path: '/', name: 'Index', component: PurchasingComponent, useAsDefault: true },\n  { path: '/automation', name: 'Automation', component: AutomationComponent },\n  { path: '/inventory', name: 'Inventory', component: InventoryComponent },\n  { path: '/manufacturing', name: 'Manufacturing', component: ManufacturingComponent },\n  { path: '/purchasing', name: 'Purchasing', component: PurchasingComponent },\n])\nexport class App {\n  public appState: AppState;\n  public gameService: GameService;\n  \n  angularclassLogo = 'assets/img/angularclass-avatar.png';\n  loading = false;\n  name = 'Angular 2 Webpack Starter';\n  url = 'https://twitter.com/AngularClass';\n  \n  navLinks: NavLink[];\n  fluid: boolean = true;\n  \n  money: number = 0;\n\n  constructor(\n    appState: AppState,\n    gameService: GameService) {\n    this.appState = appState;\n    this.gameService = gameService;\n    \n    // let comps = ['Automation', 'Inventory', 'Manufacturing', 'Purchasing'];\n    let comps = ['Purchasing', 'Manufacturing', 'Inventory', 'Automation'];\n    \n    this.navLinks = comps.map((comp) => {\n      return {\n        comp: comp,\n        text: comp\n      };\n    });\n  }\n\n  ngOnInit() {\n    console.log('Initial App State', this.appState.state);\n    this.gameService.moneyEmitter.subscribe((money: number) => {\n      this.money = money;\n      console.log(this.money);\n    });\n    this.money = this.gameService.money;\n  }\n\n}\n\n/*\n * Please review the https://github.com/AngularClass/angular2-examples/ repo for\n * more angular app examples that you may copy/paste\n * (The examples may not be updated as quickly. Please open an issue on github for us to update it)\n * For help or questions please contact us at @AngularClass on twitter\n * or our chat on Slack at https://AngularClass.com/slack-join\n */\n\n\n\n/** WEBPACK FOOTER **\n ** src/app/app.component.ts\n **/","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'automation',\n  template: require('./automation.html')\n})\nexport class AutomationComponent implements OnInit {\n  \n  \n  constructor() {\n    \n  }\n  \n  ngOnInit() {\n    \n  }\n}\n\n\n/** WEBPACK FOOTER **\n ** src/app/automation/automation.component.ts\n **/","export * from './automation.component';\n\n\n/** WEBPACK FOOTER **\n ** src/app/automation/index.ts\n **/","import { Injectable, EventEmitter } from '@angular/core';\n// import { material, retail } from './items';\n// import * as items from './items';\nimport { MATERIALS, ALL_TIERS } from './items';\n\n@Injectable()\nexport class GameService {\n  \n  moneyEmitter: EventEmitter<number> = new EventEmitter();\n  inventoryEmitter: EventEmitter<{ [name: string]: number }> = new EventEmitter();\n  salesEmitter: EventEmitter<{ name: string, count: number }> = new EventEmitter();\n  money: number = 1000;\n  inventory: { [name: string]: number } = {};\n  \n  constructor() {\n    // console.log('material:\\n', material, '\\n');\n    // console.log('retail:\\n', retail);\n    // console.log('items: ', items);\n    for (let name in MATERIALS) {\n      this.inventory[name] = 0;\n    }\n    for (let name in ALL_TIERS) {\n      this.inventory[name] = 0;\n    }\n    \n    this.moneyEmitter.emit(this.money);\n    this.inventoryEmitter.emit(this.inventory);\n  }\n  \n  add(name: string, count: number, buy: boolean = false): boolean {\n    if (!(name in MATERIALS || name in ALL_TIERS)) {\n      return false;\n    }\n    // this.inventory[name] += count;\n    console.log(name, count, buy);\n    if (buy) {\n      let price: number = 0;\n      if (name in MATERIALS) {\n        if (count > 0) {\n          price = MATERIALS[name].buyPrice;\n        } else if (count < 0) {\n          price = MATERIALS[name].sellPrice;\n        } else {\n          return false;\n        }\n      } else if (name in ALL_TIERS) {\n        if (count >= 0) {\n          return false;\n        }\n        this.salesEmitter.emit({\n          name,\n          count\n        });\n        return true;\n        // price = ALL_TIERS[name].sellPrice;\n      }\n      if (count > 0 && this.money < price) return false;\n      this.money -= (price * count);\n      this.moneyEmitter.emit(this.money);\n    }\n    \n    \n    \n    this.inventory[name] += count;\n    this.inventoryEmitter.emit(this.inventory);\n    return true;\n  }\n}\n\n\n/** WEBPACK FOOTER **\n ** src/app/game/game.service.ts\n **/","export * from './retail';\nexport * from './tier_1';\nexport * from './tier_2';\nexport * from './tier_3';\nexport * from './tier_4';\n\nimport { Retail } from './retail';\nimport { TIER_1 } from './tier_1';\nimport { TIER_2 } from './tier_2';\nimport { TIER_3 } from './tier_3';\nimport { TIER_4 } from './tier_4';\n\n// export const ALL_TIERS = [\n//   ...TIER_1,\n//   ...TIER_2,\n//   ...TIER_3,\n//   ...TIER_4\n// ];\n\nlet all_tiers: { [name: string]: Retail } = {};\nfor (let name in TIER_1) {\n  all_tiers[name] = TIER_1[name];\n}\nfor (let name in TIER_2) {\n  all_tiers[name] = TIER_2[name];\n}\nfor (let name in TIER_3) {\n  all_tiers[name] = TIER_3[name];\n}\nfor (let name in TIER_4) {\n  all_tiers[name] = TIER_4[name];\n}\n\nexport const ALL_TIERS = all_tiers;\n\n\n/** WEBPACK FOOTER **\n ** src/app/game/items/retail/index.ts\n **/","// App\nexport * from './app.component';\nexport * from './app.service';\n\nimport { AppState } from './app.service';\nimport { GameService } from './game';\n\n// Application wide providers\nexport const APP_PROVIDERS = [\n  AppState,\n  GameService\n];\n\n\n\n/** WEBPACK FOOTER **\n ** src/app/index.ts\n **/","export * from './inventory.component';\n\n\n/** WEBPACK FOOTER **\n ** src/app/inventory/index.ts\n **/","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'inventory',\n  template: require('./inventory.html')\n})\nexport class InventoryComponent implements OnInit {\n  \n  \n  constructor() {\n    \n  }\n  \n  ngOnInit() {\n    \n  }\n}\n\n\n/** WEBPACK FOOTER **\n ** src/app/inventory/inventory.component.ts\n **/","export * from './manufacturing.component';\n\n\n/** WEBPACK FOOTER **\n ** src/app/manufacturing/index.ts\n **/","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'manufacturing',\n  template: require('./manufacturing.html')\n})\nexport class ManufacturingComponent implements OnInit {\n  \n  \n  constructor() {\n    \n  }\n  \n  ngOnInit() {\n    \n  }\n}\n\n\n/** WEBPACK FOOTER **\n ** src/app/manufacturing/manufacturing.component.ts\n **/","export * from './purchasing.component';\n\n\n/** WEBPACK FOOTER **\n ** src/app/purchasing/index.ts\n **/","import { Component, OnInit } from '@angular/core';\nimport { GameService, MATERIALS, IMaterial } from '../game';\nimport { FormatterPipe } from '../app.service';\n\n@Component({\n  selector: 'purchasing',\n  styles: [ require('./purchasing.scss') ],\n  template: require('./purchasing.html'),\n  pipes: [ FormatterPipe ]\n})\nexport class PurchasingComponent implements OnInit {\n  \n  gameService: GameService;\n  \n  cards: IMaterial[] = [];\n  cardObj: { [name: string]: IMaterial };\n  \n  order: { [name: string]: number } = {};\n  orderPrice: number = 0;\n  \n  inventory: { [name: string]: number } = {};\n  \n  headerMargins: string = '';\n  \n  constructor(gameService: GameService) {\n  // constructor() {\n    this.gameService = gameService;\n    // this.cards = MATERIALS;\n    // for (let card of this.cards) {\n    //   this.order[card.name] = 0;\n    //   this.cardObj[card.name] = card;\n    // }\n    this.cardObj = MATERIALS;\n    for (let name in this.cardObj) {\n      this.cards.push(this.cardObj[name]);\n      this.order[name] = 0;\n    }\n    \n    // console.log(MATERIALS);\n    this.inventory = this.gameService.inventory;\n  }\n  \n  changeQuantity(name: string, pos: boolean = true) {\n    console.log(this.order[name]);\n    console.log(this.gameService.inventory[name]);\n    if (pos) {\n      if ((this.orderPrice + this.cardObj[name].buyPrice) > this.gameService.money) {\n        return;\n      }\n    } else {\n      // if (this.gameService.inventory[name] === 0) {\n      //   return;\n      // }\n      if (this.order[name] <= (this.gameService.inventory[name]) * -1) {\n        return;\n      }\n        \n    }\n    let add = (pos ? 1 : -1);\n    this.order[name] += add;\n    this.orderPrice += (this.cardObj[name].buyPrice * add);\n  }\n  \n  isPos(val: number): boolean {\n    return val > 0;\n  }\n  \n  completePurchase(): void {\n    let inventory = this.gameService.inventory;\n    var keys = Object.keys(this.order).filter((k) => this.order[k] !== 0);\n    console.log('order', this.order);\n    console.log('keys', keys);\n    for (let name of keys) {\n      let count = this.order[name];\n      if (this.gameService.add(name, count, true)) {\n        this.order[name] = 0;\n      }\n    }\n    // this.gameService.money -= this.orderPrice;\n  }\n  \n  ngOnInit() {\n    \n  }\n}\n\n\n/** WEBPACK FOOTER **\n ** src/app/purchasing/purchasing.component.ts\n **/","// Application level directive\nexport * from './router-active.directive';\n\n\n\n/** WEBPACK FOOTER **\n ** src/app/router-active/index.ts\n **/","import {\n  Attribute,\n  Directive,\n  ElementRef,\n  Input,\n  Optional,\n  Query,\n  QueryList,\n  Renderer\n} from '@angular/core';\nimport { isPresent } from '@angular/core/src/facade/lang';\nimport { Instruction, Router, RouterLink } from '@angular/router-deprecated';\n\n/**\n * RouterActive dynamically finds the first element with routerLink and toggles the active class\n *\n * ## Use\n *\n * ```\n * <li router-active=\"active\"><a [routerLink]=\" ['/Home'] \">Home</a></li>\n * <li [routerActive]=\" activeStringValue \"><a [routerLink]=\" ['/Home'] \">Home</a></li>\n * ```\n */\n@Directive({\n  selector: '[router-active]'\n})\nexport class RouterActive {\n  @Input() routerActive: string = undefined;\n  routerActiveAttr: string = 'active';\n\n  constructor(\n    public router: Router,\n    public element: ElementRef,\n    public renderer: Renderer,\n    @Query(RouterLink) public routerLink: QueryList<RouterLink>,\n    @Optional() @Attribute('router-active') routerActiveAttr?: string) {\n\n      this.routerActiveAttr = this._defaultAttrValue(routerActiveAttr);\n  }\n\n  ngOnInit() {\n    this.routerLink.changes.subscribe(() => {\n      if (this.routerLink.first) {\n        this._updateClass();\n        this._findRootRouter().subscribe(() => {\n          this._updateClass();\n        });\n      }\n    });\n  }\n\n  private _findRootRouter(): Router {\n    let router: Router = this.router;\n    while (isPresent(router.parent)) {\n      router = router.parent;\n    }\n    return router;\n  }\n\n  private _updateClass() {\n    let active = this.routerLink.first.isRouteActive;\n    this.renderer.setElementClass(this.element.nativeElement, this._attrOrProp(), active);\n  }\n\n  private _defaultAttrValue(attr?: string) {\n    return this.routerActiveAttr = attr || this.routerActiveAttr;\n  }\n\n  private _attrOrProp() {\n    return isPresent(this.routerActive) ? this.routerActive : this.routerActiveAttr;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** src/app/router-active/router-active.directive.ts\n **/","export * from './browser-directives';\nexport * from './browser-pipes';\nexport * from './browser-providers';\n\nimport { DIRECTIVES } from './browser-directives';\nimport { PIPES } from './browser-pipes';\nimport { PROVIDERS } from './browser-providers';\n\n\nexport const PLATFORM_PROVIDERS = [\n  ...PROVIDERS,\n  ...DIRECTIVES,\n  ...PIPES\n];\n\n\n\n/** WEBPACK FOOTER **\n ** src/platform/browser.ts\n **/","\n// Angular 2\nimport { enableProdMode } from '@angular/core';\n\n// Environment Providers\nlet PROVIDERS = [\n  // common env directives\n];\n\nif ('production' === ENV) {\n  // Production\n  enableProdMode();\n\n  PROVIDERS = [\n    ...PROVIDERS\n    // custom providers in production\n  ];\n\n} else {\n  // Development\n  PROVIDERS = [\n    ...PROVIDERS\n    // custom providers in development\n  ];\n\n}\n\n\nexport const ENV_PROVIDERS = [\n  ...PROVIDERS\n];\n\n\n\n/** WEBPACK FOOTER **\n ** src/platform/environment.ts\n **/","module.exports = \".card.center-block {\\n  max-width: 318px; }\\n  .card.center-block.card-inverse {\\n    background-color: #595959;\\n    border-color: #595959; }\\n  .card.center-block .card-header {\\n    padding: 0px;\\n    background-color: #595959;\\n    height: 38px; }\\n    .card.center-block .card-header button.btn {\\n      border-radius: 0; }\\n      .card.center-block .card-header button.btn i.fa {\\n        color: white; }\\n\\n.buy-price {\\n  color: red; }\\n\\n.sell-price {\\n  color: #00B300; }\\n\\n.btn.purchase-btn {\\n  position: fixed;\\n  top: 54px;\\n  right: 0px;\\n  width: 100%;\\n  z-index: 1029;\\n  border-radius: 0; }\\n\\n.row.root-row {\\n  padding-top: 40px; }\\n\\n.inv-status {\\n  width: 222.8437px;\\n  display: inline-block;\\n  background-color: #595959;\\n  color: white;\\n  text-align: center;\\n  margin: 7px 0px 7px 0px; }\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/purchasing/purchasing.scss\n ** module id = 475\n ** module chunks = 2\n **/","module.exports = \"html, body{\\n  height: 100%;\\n  font-family: Arial, Helvetica, sans-serif\\n}\\n\\nspan.active {\\n  background-color: gray;\\n}\\n\\n.container-fluid {\\n  padding-top: 100px;\\n}\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/app.css\n ** module id = 476\n ** module chunks = 2\n **/","module.exports = \"<nav class=\\\"navbar navbar-fixed-top navbar-dark bg-inverse\\\">\\n  <a class=\\\"navbar-brand\\\" href=\\\"/\\\">{{ name }}</a>\\n  <ul class=\\\"nav navbar-nav pull-md-right\\\">\\n    <li class=\\\"nav-item\\\">{{ money | currency:'USD':true }}</li>\\n    <li *ngFor=\\\"let navLink of navLinks\\\" router-active=\\\"active\\\" class=\\\"nav-item\\\">\\n      <a class=\\\"nav-link\\\" [routerLink]=\\\"[navLink.comp]\\\">{{ navLink.text }}</a>\\n    </li>\\n  </ul>\\n</nav>\\n<div [class.container]=\\\"!fluid\\\" [class.container-fluid]=\\\"fluid\\\">\\n  <div class=\\\"row\\\">\\n    <div class=\\\"col-md-12 col-lg-8\\\">\\n      <router-outlet></router-outlet>\\n    </div>\\n    <div class=\\\"col-md-12 col-lg-4\\\">\\n      <div class=\\\"card center-block\\\">\\n        <div class=\\\"card-header\\\">\\n          <h4 class=\\\"card-title\\\">Sales</h4>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n</div>\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/app.html\n ** module id = 477\n ** module chunks = 2\n **/","module.exports = \"\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/automation/automation.html\n ** module id = 478\n ** module chunks = 2\n **/","module.exports = \"\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/inventory/inventory.html\n ** module id = 479\n ** module chunks = 2\n **/","module.exports = \"\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/manufacturing/manufacturing.html\n ** module id = 480\n ** module chunks = 2\n **/","module.exports = \"<!--<div class=\\\"card\\\">-->\\n<!--  <div class=\\\"card-block\\\">-->\\n    <!-- Do +/- -->\\n<!--    <h4 class=\\\"card-title\\\">Card Title</h4>-->\\n<!--  </div>-->\\n  <!-- img -->\\n<!--  <img src=\\\"http://placehold.it/318x180\\\" alt=\\\"Placeholder\\\">-->\\n<!--  <div class=\\\"card-block\\\">-->\\n    <!-- other stuff -->\\n<!--    <p class=\\\"card-text\\\">Card text</p>-->\\n<!--  </div>-->\\n<!--</div>-->\\n<!--<div class=\\\"row\\\" *ngFor=\\\"let cardRow of cardRows\\\">-->\\n<!--  <div class=\\\"col-sm-6\\\" *ngFor=\\\"let card of cardRow\\\">-->\\n<!--    <div class=\\\"card center-block\\\" style=\\\"max-width: 318px;\\\">-->\\n<!--      <div class=\\\"card-block\\\">-->\\n<!--        <h4 class=\\\"card-title\\\">{{ card.name }}</h4>-->\\n<!--      </div>-->\\n<!--      <img src=\\\"http://placehold.it/318x180\\\" alt=\\\"Placeholder\\\">-->\\n<!--      <div class=\\\"card-block\\\">-->\\n<!--        <p class=\\\"card-text\\\">{{ card.sellPrice | currency:'USD':true:'1.2-2' }}</p>-->\\n<!--      </div>-->\\n<!--    </div>-->\\n<!--  </div>-->\\n<!--</div>-->\\n<button type=\\\"button\\\" (click)=\\\"completePurchase()\\\" class=\\\"btn btn-primary purchase-btn\\\">BUY/SELL ITEMS</button>\\n\\n<div class=\\\"row\\\">\\n  <div class=\\\"col-md-6 col-lg-4\\\" *ngFor=\\\"let card of cards\\\">\\n    <div class=\\\"card card-inverse center-block\\\">\\n      <!--<div class=\\\"card-block\\\">-->\\n      <!--  <h4 class=\\\"card-title\\\">{{ card.name | formatter }}</h4>-->\\n        <!--<button type=\\\"button\\\" class=\\\"btn btn-success\\\" style=\\\"border:0;\\\">-->\\n        <!--  <i class=\\\"fa fa-plus\\\" aria-hidden=\\\"true\\\" style=\\\"color: white;\\\"></i>-->\\n        <!--</button>-->\\n      <!--</div>-->\\n      <!--<div class=\\\"card-header\\\" card-header>-->\\n      <div class=\\\"card-header\\\">\\n        <button type=\\\"button\\\" (click)=\\\"changeQuantity(card.name, false)\\\" class=\\\"btn btn-danger pull-left inv-minus\\\">\\n          <i class=\\\"fa fa-minus\\\" aria-hidden=\\\"true\\\"></i>\\n        </button>\\n        <!--<span [style.width]=\\\"getStatusWidth(card_header)\\\"></span>-->\\n        <!--<span class=\\\"inv-status\\\" #status [style.margin]=\\\"getMargin(status)\\\">{{ gameService.inventory[card.name] }}</span>-->\\n        <span class=\\\"inv-status\\\">{{ inventory[card.name] }}</span>\\n        <!--<div class=\\\"center-block\\\">{{ order[card.name] }}</div>-->\\n        <button type=\\\"button\\\" (click)=\\\"changeQuantity(card.name)\\\" class=\\\"btn btn-success pull-right inv-plus\\\">\\n          <i class=\\\"fa fa-plus\\\" aria-hidden=\\\"true\\\"></i>\\n        </button>\\n      </div>\\n      <img src=\\\"http://placehold.it/318x180\\\" alt=\\\"Placeholder\\\">\\n      <ul class=\\\"list-group list-group-flush\\\">\\n        <li class=\\\"list-group-item text-xs-center\\\">{{ card.name | formatter }}</li>\\n        <li class=\\\"list-group-item text-xs-center\\\">\\n          <span *ngIf=\\\"isPos(order[card.name])\\\">+</span>{{ order[card.name] }}\\n          &bull;\\n          <span [class.buy-price]=\\\"isPos(order[card.name])\\\"\\n            [class.sell-price]=\\\"!isPos(order[card.name])\\\">\\n              <span *ngIf=\\\"order[card.name] > 0\\\">-</span><span *ngIf=\\\"order[card.name] < 0\\\">+</span>{{ order[card.name] * card.buyPrice | currency:'USD':true:'1.2-2' }}\\n          </span>\\n          <!--<span [class.buy-price]=\\\"isPos(order[card.name])\\\"-->\\n          <!--  [class.sell-price]=\\\"!isPos(order[card.name])\\\">{{ order[card.name] * card.buyPrice }}</span>-->\\n        </li>\\n        <li class=\\\"list-group-item text-xs-center\\\">\\n          <span class=\\\"buy-price\\\">{{ card.buyPrice | currency:'USD':true:'1.2-2' }}</span>\\n          &bull;\\n          <span class=\\\"sell-price\\\">{{ card.sellPrice | currency:'USD':true:'1.2-2' }}</span>\\n        </li>\\n      </ul>\\n      <!--<div class=\\\"card-block\\\">-->\\n      <!--  <p class=\\\"card-text text-xs-right\\\">{{ card.name | formatter }}</p>-->\\n      <!--  <p class=\\\"card-text text-xs-right\\\">-->\\n      <!--    <span class=\\\"buy-price\\\">{{ card.buyPrice | currency:'USD':true:'1.2-2' }}</span>-->\\n      <!--    &bull;-->\\n      <!--    <span class=\\\"sell-price\\\">{{ card.sellPrice | currency:'USD':true:'1.2-2' }}</span>-->\\n      <!--  </p>-->\\n      <!--</div>-->\\n    </div>\\n  </div>\\n</div>\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/purchasing/purchasing.html\n ** module id = 481\n ** module chunks = 2\n **/","import {HmrStore} from './hmr-store';\n\n// noop in parentNode\n// TODO: find a better way to noop\nconst _env = typeof process !== 'undefined' &&\n  process &&\n  process.env &&\n  (process.env.ENV ||\n  process.env.NODE_ENV);\n\nlet _dev: boolean = ((\n    _env &&\n    typeof _env === 'string' &&\n    (_env.indexOf('dev') > -1)\n  ) || // default true\n    _env === undefined);\n\nexport function setDev(newDev: string | boolean): boolean | void {\n  if (typeof newDev === 'string') {\n    return _dev = (newDev.indexOf('dev') > -1);\n  } else if (typeof newDev === 'boolean') {\n    return _dev = newDev;\n  }\n  throw new Error('Please provide a string or boolean');\n}\n\nexport function HmrState(namespaceOrConfig?: string | any, config?: any): Function {\n\n  function decoratorFactory(target: any, decoratedPropertyName?: string, descriptor?: any): void {\n    if (!_dev) { return descriptor; }\n\n    let key = namespaceOrConfig || target.constructor.name + '#' + decoratedPropertyName;\n    HmrStore.select(key, () => HmrStore.get(key));\n\n    Object.defineProperty(target, decoratedPropertyName, {\n      get: () => HmrStore.get(key),\n      set: (newValue?: any) => {\n\n        let currentValue = HmrStore.get(key);\n        if (!currentValue) {\n          HmrStore._initialValues[key] = newValue;\n        } else {\n          newValue = Object.assign(newValue, currentValue);\n        }\n        return HmrStore.set(key, newValue);\n\n      },\n      enumerable: true,\n      configurable: true\n    });\n    return descriptor;\n  }\n\n  return decoratorFactory;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-hmr/src/hmr-decorator.ts\n **/","import {HMR_STATE, HmrStore} from './hmr-store';\n\nexport * from './webpack-hmr';\nexport * from './hmr-decorator';\nexport * from './hmr-store';\n\n\nexport function provideHmrState(initialState = {}): Array<any> {\n  return [\n    {provide: HMR_STATE, useValue: initialState },\n    {provide: HmrStore, useValue: HmrStore}\n  ];\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-hmr/src/index.ts\n **/","import {HmrStore} from './hmr-store';\n\nexport interface HotModuleReplacementOptions {\n  LOCALSTORAGE_KEY?: string;\n  localStorage?: boolean;\n  storeToken?: any;\n  globalDispose?: string;\n\n  getState?: Function;\n  data?: any;\n}\n\nexport function hotModuleReplacement(bootloader: Function, module: any, options: HotModuleReplacementOptions = {}) {\n  if (!module.hot) {\n    console.warn('Warning: please use webpack hot flag');\n    return document.addEventListener('DOMContentLoaded', () => bootloader());\n  }\n\n  HmrStore.dev = true;\n  const LOCALSTORAGE_KEY = options.LOCALSTORAGE_KEY || '@@WEBPACK_INITIAL_DATA';\n  const LOCAL            = options.localStorage     || false;\n  const TOKEN            = options.storeToken       || HmrStore;\n  const DISPOSE          = options.globalDispose    || 'WEBPACK_HMR_beforeunload';\n  const GET_STATE        = options.getState         || getState;\n  let DATA               = options.data             || module.hot.data && module.hot.data.state;\n  let COMPONENT_REF = null;\n  let disposed = false;\n\n  function getState(appState) {\n    const json = appState.toJSON();\n\n    if (LOCAL) {\n      console.time('localStorage');\n      localStorage.setItem(LOCALSTORAGE_KEY, JSON.stringify(appState));\n      console.timeEnd('localStorage');\n    }\n    return json;\n  }\n\n  console.log('DATA', DATA);\n  if (!DATA && LOCAL) {\n    try {\n      console.time('start localStorage');\n      DATA = JSON.parse(localStorage.getItem(LOCALSTORAGE_KEY)) || DATA;\n      console.timeEnd('start localStorage');\n    } catch (e) {\n      console.log('JSON.parse Error', e);\n    }\n  }\n  console.time('bootstrap');\n  if (document.readyState === 'complete') {\n    bootloader(DATA)\n      .then((cmpRef: any) => COMPONENT_REF = cmpRef)\n      .then((cmpRef => (console.timeEnd('bootstrap'), cmpRef)));\n  } else {\n    document.addEventListener('DOMContentLoaded', () => {\n      bootloader(DATA)\n        .then((cmpRef: any) => COMPONENT_REF = cmpRef)\n        .then((cmpRef => (console.timeEnd('bootstrap'), cmpRef)));\n    });\n  }\n\n\n\n  function beforeunload(event) {\n    const injector = COMPONENT_REF.injector;\n    let appState;\n    if ('getOptional' in injector) {\n      appState = COMPONENT_REF.injector.getOptional(TOKEN) || TOKEN;\n    } else {\n      appState = COMPONENT_REF.injector.get(TOKEN, TOKEN);\n    }\n    return GET_STATE(appState);\n  }\n  (<any>window)[DISPOSE] = () => {\n    disposed = true;\n    window.removeEventListener('beforeunload', beforeunload);\n    if (LOCAL) {\n      localStorage.removeItem(LOCALSTORAGE_KEY);\n    }\n  };\n\n  module.hot.accept();\n\n  window.addEventListener('beforeunload', beforeunload);\n\n  module.hot.dispose((data: any) => {\n    console.time('dispose');\n    const componentNode = COMPONENT_REF.location.nativeElement;\n    const newNode = document.createElement(componentNode.tagName);\n    // display none\n    const currentDisplay = newNode.style.display;\n    newNode.style.display = 'none';\n    const parentNode = componentNode.parentNode;\n    parentNode.insertBefore(newNode, componentNode);\n\n    const injector = COMPONENT_REF.injector;\n    let appState;\n    if ('getOptional' in injector) {\n      appState = COMPONENT_REF.injector.getOptional(TOKEN) || TOKEN;\n    } else {\n      appState = COMPONENT_REF.injector.get(TOKEN, TOKEN);\n    }\n    const json = GET_STATE(appState, COMPONENT_REF);\n\n    data.state = json;\n\n    if ('destroy' in COMPONENT_REF) {\n      COMPONENT_REF.destroy();\n    } else if ('dispose' in COMPONENT_REF) {\n      COMPONENT_REF.dispose();\n    }\n\n    newNode.style.display = currentDisplay;\n\n    if (!disposed) {\n      window.removeEventListener('beforeunload', beforeunload);\n    }\n    disposed = true;\n    console.timeEnd('dispose');\n  });\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-hmr/src/webpack-hmr.ts\n **/"],"mappings":";;;;;;AAAA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AAEA;;;AAGA;AACA;AAEA;;;AAGA;AACA;AAEA;AAKA;AAEA;AATA;AAeA;;;;;AAKA;AAGA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;;;;;;;;;ACvDA;AAOA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAbA;AAeA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;;;;;;;;;AC3BA;AACA;AAGA;AAIA;AAHA;AACA;AAIA;AAGA;AADA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAJA;AAOA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AA/BA;AAAA;;AAAA;AAHA;AAAA;;AAAA;AAmCA;AAAA;AAlCA;AAuCA;AAAA;AAMA;AALA;AACA;AACA;AACA;AACA;AARA;AAAA;AACA;AACA;;AAAA;AAOA;AAAA;AANA;;;;;;;;;AC1CA;AACA;AAAA;AAAA;AAEA;AACA;AAAA;AAJA;AAMA;AAEA;AAAA;AA8CA;AAxCA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA5CA;AACA;AACA;AACA;AA0CA;AAAA;AA9CA;;;;;;;;;;;;ACTA;AACA;;;;;;;;;;;;ACDA;AACA;AAcA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAbA;AAcA;;;;;;;;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;;;;;;;;;ACxBA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;;;;;;ACrHA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACxHA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;;;;;;;;;ACpFA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;;;;;;;;AC1CA;;AAEA;;AAEA;AACA;AACA;AAEA;AACA;AAIA;AACA;AACA;;;;;;;;ACfA;;AAEA;;AAEA;AAEA;AACA;AAIA;AACA;AACA;;;;;;;;ACbA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;;;AAGA;AACA;AAIA;AACA;AAEA;;;;;;;;;ACtBA;;AAEA;AACA;AACA;AAEA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AAQA;;;AAGA;AAmBA;AAcA;AAVA;AACA;AACA;AACA;AAGA;AAEA;AAKA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAxDA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAAA;AAyCA;;AAAA;AAxCA;AA0CA;;;;;;AAMA;;;;;;;;;AC7FA;AAMA;AAGA;AAEA;AAEA;AAEA;AAbA;AAAA;AACA;AACA;AACA;;AAAA;AAWA;AAAA;AAVA;;;;;;;;;;;;ACNA;;;;;;;;;ACAA;AACA;AACA;AACA;AAGA;AAQA;AANA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AA7DA;AAAA;;AAAA;AA8DA;AAAA;AA7DA;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;;;;;;;;;ACjCA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACXA;;;;;;;;;ACAA;AAMA;AAGA;AAEA;AAEA;AAEA;AAbA;AAAA;AACA;AACA;AACA;;AAAA;AAWA;AAAA;AAVA;;;;;;;;;;;;ACNA;;;;;;;;;ACAA;AAMA;AAGA;AAEA;AAEA;AAEA;AAbA;AAAA;AACA;AACA;AACA;;AAAA;AAWA;AAAA;AAVA;;;;;;;;;;;;ACNA;;;;;;;;;ACAA;AACA;AACA;AAQA;AAcA;AAVA;AAGA;AACA;AAEA;AAEA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AA/EA;AAAA;AACA;AACA;AACA;AACA;AACA;;AAAA;AA2EA;;AAAA;AA1EA;;;;;;;;;;;;ACVA;AACA;;;;;;;;;ACDA;AAUA;AACA;AAEA;;;;;;;;;AASA;AAIA;AAIA;AACA;AACA;AACA;AACA;AAPA;AACA;AASA;AACA;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AA3CA;AAAA;;AAAA;AAJA;AAAA;AACA;AACA;AASA;AACA;AAAA;;AAVA;AA8CA;;AAAA;AA7CA;;;;;;;;;;;;AC1BA;AACA;AACA;AAEA;AACA;AACA;AAGA;;;;;;;;;ACRA;AACA;AAEA;AACA;AAIA;AACA;AACA;AAEA;AAKA;AAAA;AACA;AACA;AAKA;AAGA;;;;;;;;AC5BA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;;ACAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAPA;AASA;AAEA;AACA;AAAA;AAAA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AA5BA;;;;;;;;;;;;;AC1BA;AAEA;AACA;AACA;AAGA;AAAA;AACA;AACA;AACA;AACA;AACA;AALA;;;;;;;;;ACPA;AAYA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAAA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AA7GA;;;;;","sourceRoot":""}